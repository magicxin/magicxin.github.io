{"version":3,"sources":["webpack:///static/js/14.785c087226415ac896ab.js","webpack:///./src/modules/info/pages/detail.vue?0399","webpack:///detail.vue?07f8","webpack:///./src/modules/info/pages/detail.vue","webpack:///./src/modules/info/pages/detail.vue?74ae","webpack:///./src/libs/util.js?4d51**********","webpack:///./src/modules/info/pages/detail.vue?015d"],"names":["webpackJsonp","CNqz","module","__webpack_exports__","__webpack_require__","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","info","title","author_unit","author","paresDate","sendTime","staticStyle","display","margin","attrs","alt","src","picUrl","_e","domProps","innerHTML","noTableHtml1","overflow-x","tableHtml","noTableHtml2","_l","href","url","attachName","reviewList","length","reviewlist","reviewName","reviewContent","reviewTime","parestimes","directives","name","rawName","value","expression","placeholder","on","input","$event","target","composing","commentText","type","click","stopPropagation","comment","staticRenderFns","esExports","KmfA","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default","n","__WEBPACK_IMPORTED_MODULE_1_mint_ui__","__WEBPACK_IMPORTED_MODULE_2__libs_util_js__","beforeRouteEnter","to","from","next","vm","getDetail","data","showAttach","showReview","commentParams","methods","_this","showLoading","$route","query","id","Api","INFO","getInfoById","nodeId","definitionId","instanceId","businessKey","then","res","code","$set","body","map","item","attachUrlList","i","message","errormsg","$nextTick","settableWidth","hideLoading","catch","error","open","close","stamp","format","Date","saveInfoComment","infoId","infoContent","indexOf","tdLength","split","trLength","tableContent","substring","substr","S9iK","injectStyle","ssrContext","Object","defineProperty","__WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_detail_vue__","__WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_63f92a24_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_detail_vue__","normalizeComponent","__vue_styles__","Component","Svr/","exports","content","locals","TVG1","debounce","func","wait","immediate","timeout","args","context","timestamp","result","later","last","now","setTimeout","apply","arguments","callNow","date","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","q+","Math","floor","S+","getMilliseconds","test","replace","RegExp","$1","getFullYear","k","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__","__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default","EventBusClass","listeners","EVENT_TYPE_WORK_CALENDAR","EVENT_TYPE_FIELD_NAME","EVENT_TYPE_FIELD_END_NAME","key","callback","scope","numOfArgs","push","splice","numOfCallbacks","newArray","listener","undefined","event","concat","slice","concatArgs","str","className","EventBus","nA20","version","sources","names","mappings","file","sourceRoot"],"mappings":"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","file":"static/js/14.785c087226415ac896ab.js","sourcesContent":["webpackJsonp([14],{\n\n/***/ \"CNqz\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nvar render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"normal\"},[_c('div',{staticClass:\"title\"},[_c('h2',[_vm._v(_vm._s(_vm.info.title))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.info.author_unit))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.info.author))]),_vm._v(\" \"),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.paresDate(_vm.info.sendTime)))])]),_vm._v(\" \"),_c('div',{staticClass:\"journalism-content\"},[(_vm.info.picUrl)?_c('div',{staticClass:\"info-img\"},[_c('img',{staticStyle:{\"display\":\"block\",\"margin\":\"0 auto\"},attrs:{\"alt\":\"\",\"src\":_vm.info.picUrl}})]):_vm._e(),_vm._v(\" \"),_c('div',[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.noTableHtml1)}}),_vm._v(\" \"),_c('div',{staticStyle:{\"overflow-x\":\"scroll\"},domProps:{\"innerHTML\":_vm._s(_vm.tableHtml)}}),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.noTableHtml2)}})])]),_vm._v(\" \"),(_vm.showAttach)?_c('div',{staticClass:\"info-attach\"},[_c('div',[_vm._v(\"附件：\")]),_vm._v(\" \"),_vm._l((_vm.info.attachUrlList),function(info){return _c('p',{staticClass:\"attach-list\"},[_c('a',{attrs:{\"href\":info.url}},[_vm._v(_vm._s(info.attachName))])])})],2):_vm._e(),_vm._v(\" \"),(_vm.showReview)?_c('div',{staticClass:\"info-comment\"},[_c('h2',[_vm._v(\"评论（\"),_c('span',[_vm._v(_vm._s(_vm.reviewList.length))]),_vm._v(\"）\")]),_vm._v(\" \"),_vm._l((_vm.reviewList),function(reviewlist){return _c('div',{staticClass:\"review-list clearfix\"},[_c('div',{staticClass:\"info\"},[_c('p',[_c('span',{staticClass:\"user\"},[_vm._v(_vm._s(reviewlist.reviewName))])]),_vm._v(\" \"),_c('p',{staticClass:\"review-content\"},[_vm._v(_vm._s(reviewlist.reviewContent))]),_vm._v(\" \"),_c('p',{staticClass:\"date\"},[_c('span',[_vm._v(_vm._s(_vm.paresDate(reviewlist.reviewTime)))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.parestimes(reviewlist.reviewTime)))])])])])}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.commentText),expression:\"commentText\"}],attrs:{\"placeholder\":\"评论\"},domProps:{\"value\":(_vm.commentText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.commentText=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('input',{attrs:{\"type\":\"submit\",\"value\":\"确定\"},on:{\"click\":function($event){$event.stopPropagation();_vm.comment($event)}}})])],2):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\n/* harmony default export */ __webpack_exports__[\"a\"] = (esExports);\n\n/***/ }),\n\n/***/ \"KmfA\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__ = __webpack_require__(\"fZjL\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui__ = __webpack_require__(\"Au9i\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_mint_ui___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_mint_ui__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__libs_util_js__ = __webpack_require__(\"TVG1\");\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n        next(function (vm) {\n            vm.getDetail();\n        });\n    },\n    data: function data() {\n        return {\n            info: {},\n            showAttach: false, //是否显示附件\n            showReview: true, //是否显示评论\n            noTableHtml1: '', //非table内容\n            noTableHtml2: '', //非table内容\n            tableHtml: '', //table内容\n            commentText: '', //文本域内容\n            commentParams: {},\n            reviewList: []\n        };\n    },\n\n    methods: {\n        getDetail: function getDetail() {\n            var _this = this;\n            _this.showLoading();\n            if (this.$route.query && this.$route.query.id) {\n                _this.Api.INFO.getInfoById({\n                    id: _this.$route.query.id,\n                    nodeId: _this.$route.query.nodeId,\n                    definitionId: _this.$route.query.definitionId,\n                    instanceId: _this.$route.query.instanceId,\n                    businessKey: _this.$route.query.businessKey\n                }).then(function (res) {\n                    if (res.data.code === '000000') {\n                        _this.$set(_this, 'info', res.data.body);\n                        _this.reviewList = __WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_object_keys___default()(res.data.body.reviewList).map(function (item) {\n                            return res.data.body.reviewList[item];\n                        });\n                        if (_this.info.attachUrlList.length) {\n                            _this.showAttach = true;\n                        }\n                    } else {\n                        __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])({ message: res.data.errormsg });\n                    }\n                    _this.$nextTick(function () {\n                        _this.settableWidth();\n                        _this.hideLoading();\n                    });\n                }).catch(function (error) {\n                    _this.hideLoading();\n                });\n            }\n        },\n        showLoading: function showLoading() {\n            __WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Indicator\"].open();\n        },\n        hideLoading: function hideLoading() {\n            __WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Indicator\"].close();\n        },\n        paresDate: function paresDate(stamp) {\n            return __WEBPACK_IMPORTED_MODULE_2__libs_util_js__[\"a\" /* default */].format(new Date(stamp), 'yyyy-MM-dd');\n        },\n        parestimes: function parestimes(stamp) {\n            return __WEBPACK_IMPORTED_MODULE_2__libs_util_js__[\"a\" /* default */].format(new Date(stamp), 'hh:mm:ss');\n        },\n\n        comment: function comment() {\n            var _this = this;\n            _this.commentParams.reviewContent = this.commentText;\n            _this.Api.INFO.saveInfoComment({\n                infoId: _this.$route.query.id,\n                // definitionId: _this.$route.query.definitionId ? _this.$route.query.definitionId: '',\n                // nodeId: _this.$route.query.nodeId ? _this.$route.query.nodeId: '',\n                // instanceId: _this.$route.query.instanceId ? _this.$route.query.instanceId: '',\n                reviewContent: _this.commentParams.reviewContent\n            }).then(function (res) {\n                if (res.data.code === '000000') {\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])({ message: '评论成功' });\n                    _this.commentText = \"\";\n                    _this.getDetail();\n                } else {\n                    __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_1_mint_ui__[\"Toast\"])({ message: res.data.errormsg });\n                }\n            });\n        },\n        //如果信息内容中包含table,table中一行td大于4，就会出横向滚动条，并且table的宽度设置为600px;\n        settableWidth: function settableWidth() {\n            var _this = this;\n            if (_this.info.infoContent.indexOf('<table>') != -1) {\n                var tdLength = _this.info.infoContent.split('<td').length - 1;\n                var trLength = _this.info.infoContent.split('<tr').length - 1;\n                var tableContent = _this.info.infoContent.split('table');\n                tableContent[0] = tableContent[0].substring(0, tableContent[0].length - 1);\n                tableContent[2] = tableContent[2].substr(1);\n                _this.noTableHtml1 = tableContent[0];\n                _this.noTableHtml2 = tableContent[2];\n                if (tdLength / trLength > 4) {\n                    _this.tableHtml = '<table style=\"width:600px\"' + tableContent[1] + 'table>';\n                } else {\n                    _this.tableHtml = '<table' + tableContent[1] + 'table>';\n                }\n            } else {\n                _this.noTableHtml1 = _this.info.infoContent;\n            }\n        }\n    }\n});\n\n/***/ }),\n\n/***/ \"S9iK\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_detail_vue__ = __webpack_require__(\"KmfA\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_63f92a24_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_detail_vue__ = __webpack_require__(\"CNqz\");\nfunction injectStyle (ssrContext) {\n  __webpack_require__(\"Svr/\")\n}\nvar normalizeComponent = __webpack_require__(\"VU/8\")\n/* script */\n\n/* template */\n\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __WEBPACK_IMPORTED_MODULE_0__babel_loader_node_modules_vue_loader_lib_selector_type_script_index_0_detail_vue__[\"a\" /* default */],\n  __WEBPACK_IMPORTED_MODULE_1__node_modules_vue_loader_lib_template_compiler_index_id_data_v_63f92a24_hasScoped_false_transformToRequire_video_src_source_src_img_src_image_xlink_href_node_modules_vue_loader_lib_selector_type_template_index_0_detail_vue__[\"a\" /* default */],\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (Component.exports);\n\n\n/***/ }),\n\n/***/ \"Svr/\":\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(\"nA20\");\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(\"rjj0\")(\"550575bd\", content, true);\n\n/***/ }),\n\n/***/ \"TVG1\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__ = __webpack_require__(\"Zrlr\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__ = __webpack_require__(\"wxAW\");\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass__);\n\n\n\n\n\nvar EventBusClass = function () {\n    function EventBusClass(args) {\n        __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_classCallCheck___default()(this, EventBusClass);\n\n        this.listeners = {};\n        this.EVENT_TYPE_WORK_CALENDAR = 'event_type_work_calendar';\n        this.EVENT_TYPE_FIELD_NAME = 'event_type_field_name';\n        this.EVENT_TYPE_FIELD_END_NAME = 'EVENT_TYPE_FIELD_END_NAME';\n    }\n\n    __WEBPACK_IMPORTED_MODULE_1_babel_runtime_helpers_createClass___default()(EventBusClass, [{\n        key: 'addEventListener',\n        value: function addEventListener(type, callback, scope) {\n            var args = [];\n            var numOfArgs = arguments.length;\n            for (var i = 0; i < numOfArgs; i++) {\n                args.push(arguments[i]);\n            }\n            args = args.length > 3 ? args.splice(3, args.length - 1) : [];\n            if (typeof this.listeners[type] != \"undefined\") {\n                this.listeners[type].push({ scope: scope, callback: callback, args: args });\n            } else {\n                this.listeners[type] = [{ scope: scope, callback: callback, args: args }];\n            }\n        }\n    }, {\n        key: 'removeEventListener',\n        value: function removeEventListener(type, callback, scope) {\n            if (typeof this.listeners[type] != \"undefined\") {\n                var numOfCallbacks = this.listeners[type].length;\n                var newArray = [];\n                for (var i = 0; i < numOfCallbacks; i++) {\n                    var listener = this.listeners[type][i];\n                    if (listener.scope == scope && listener.callback == callback) {} else {\n                        newArray.push(listener);\n                    }\n                }\n                this.listeners[type] = newArray;\n            }\n        }\n    }, {\n        key: 'hasEventListener',\n        value: function hasEventListener(type, callback, scope) {\n            if (typeof this.listeners[type] != \"undefined\") {\n                var numOfCallbacks = this.listeners[type].length;\n                if (callback === undefined && scope === undefined) {\n                    return numOfCallbacks > 0;\n                }\n                for (var i = 0; i < numOfCallbacks; i++) {\n                    var listener = this.listeners[type][i];\n                    if ((scope ? listener.scope == scope : true) && listener.callback == callback) {\n                        return true;\n                    }\n                }\n            }\n            return false;\n        }\n    }, {\n        key: 'dispatch',\n        value: function dispatch(type, target) {\n            var event = {\n                type: type,\n                target: target\n            };\n            var args = [];\n            var numOfArgs = arguments.length;\n            for (var i = 0; i < numOfArgs; i++) {\n                args.push(arguments[i]);\n            };\n            args = args.length > 2 ? args.splice(2, args.length - 1) : [];\n            args = [event].concat(args);\n\n            if (typeof this.listeners[type] != \"undefined\") {\n                var listeners = this.listeners[type].slice();\n                var numOfCallbacks = listeners.length;\n                for (var i = 0; i < numOfCallbacks; i++) {\n                    var listener = listeners[i];\n                    if (listener && listener.callback) {\n                        var concatArgs = args.concat(listener.args);\n                        listener.callback.apply(listener.scope, concatArgs);\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'getEvents',\n        value: function getEvents() {\n            var str = \"\";\n            for (var type in this.listeners) {\n                var numOfCallbacks = this.listeners[type].length;\n                for (var i = 0; i < numOfCallbacks; i++) {\n                    var listener = this.listeners[type][i];\n                    str += listener.scope && listener.scope.className ? listener.scope.className : \"anonymous\";\n                    str += \" listen for '\" + type + \"'\\n\";\n                }\n            }\n            return str;\n        }\n    }]);\n\n    return EventBusClass;\n}();\n/**\r\n * 函数节流\r\n * 避免调用频率过高 ,对于必须在一些输入（多是一些用户操作）停止到达之后执行的行为有帮助\r\n * \r\n * @param {any} func        要执行的函数\r\n * @param {any} wait        延时\r\n * @param {any} immediate   immediate 为 true， debounce会在 wait 时间间隔的开始调用这个函数 \r\n * @example\r\n *   UTIL.debounce(function(){\r\n *      //TODO\r\n *   }, 100) \r\n */\n\n\nfunction debounce(func, wait, immediate) {\n    var timeout, args, context, timestamp, result;\n\n    var later = function later() {\n        var last = Date.now() - timestamp;\n\n        if (last < wait && last >= 0) {\n            timeout = setTimeout(later, wait - last);\n        } else {\n            timeout = null;\n            if (!immediate) {\n                result = func.apply(context, args);\n                if (!timeout) context = args = null;\n            }\n        }\n    };\n\n    return function () {\n        context = this;\n        args = arguments;\n        timestamp = Date.now();\n        var callNow = immediate && !timeout;\n        if (!timeout) timeout = setTimeout(later, wait);\n        if (callNow) {\n            result = func.apply(context, args);\n            context = args = null;\n        }\n\n        return result;\n    };\n}\n/**\r\n * 日期对象转换\r\n * \r\n * @param {any} stamp   日期对象     new Date()\r\n * @param {any} format  要转化的格式  yyyy-MM-dd hh:mm:ss\r\n * @returns \r\n */\nfunction format(stamp, format) {\n    var date = {\n        \"M+\": stamp.getMonth() + 1,\n        \"d+\": stamp.getDate(),\n        \"h+\": stamp.getHours(),\n        \"m+\": stamp.getMinutes(),\n        \"s+\": stamp.getSeconds(),\n        \"q+\": Math.floor((stamp.getMonth() + 3) / 3),\n        \"S+\": stamp.getMilliseconds()\n    };\n    if (/(y+)/i.test(format)) {\n        format = format.replace(RegExp.$1, (stamp.getFullYear() + '').substr(4 - RegExp.$1.length));\n    }\n    for (var k in date) {\n        if (new RegExp(\"(\" + k + \")\").test(format)) {\n            format = format.replace(RegExp.$1, RegExp.$1.length == 1 ? date[k] : (\"00\" + date[k]).substr((\"\" + date[k]).length));\n        }\n    }\n    return format;\n}\n\n/* harmony default export */ __webpack_exports__[\"a\"] = ({\n    //高频率触发函数解决方案\n    debounce: debounce,\n    //事件代理\n    EventBus: new EventBusClass(),\n    //日期转换\n    format: format\n});\n\n/***/ }),\n\n/***/ \"nA20\":\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(\"FZ+f\")(true);\n// imports\n\n\n// module\nexports.push([module.i, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"detail.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/14.785c087226415ac896ab.js","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"normal\"},[_c('div',{staticClass:\"title\"},[_c('h2',[_vm._v(_vm._s(_vm.info.title))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.info.author_unit))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(_vm.info.author))]),_vm._v(\" \"),_c('span',{staticClass:\"date\"},[_vm._v(_vm._s(_vm.paresDate(_vm.info.sendTime)))])]),_vm._v(\" \"),_c('div',{staticClass:\"journalism-content\"},[(_vm.info.picUrl)?_c('div',{staticClass:\"info-img\"},[_c('img',{staticStyle:{\"display\":\"block\",\"margin\":\"0 auto\"},attrs:{\"alt\":\"\",\"src\":_vm.info.picUrl}})]):_vm._e(),_vm._v(\" \"),_c('div',[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.noTableHtml1)}}),_vm._v(\" \"),_c('div',{staticStyle:{\"overflow-x\":\"scroll\"},domProps:{\"innerHTML\":_vm._s(_vm.tableHtml)}}),_vm._v(\" \"),_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.noTableHtml2)}})])]),_vm._v(\" \"),(_vm.showAttach)?_c('div',{staticClass:\"info-attach\"},[_c('div',[_vm._v(\"附件：\")]),_vm._v(\" \"),_vm._l((_vm.info.attachUrlList),function(info){return _c('p',{staticClass:\"attach-list\"},[_c('a',{attrs:{\"href\":info.url}},[_vm._v(_vm._s(info.attachName))])])})],2):_vm._e(),_vm._v(\" \"),(_vm.showReview)?_c('div',{staticClass:\"info-comment\"},[_c('h2',[_vm._v(\"评论（\"),_c('span',[_vm._v(_vm._s(_vm.reviewList.length))]),_vm._v(\"）\")]),_vm._v(\" \"),_vm._l((_vm.reviewList),function(reviewlist){return _c('div',{staticClass:\"review-list clearfix\"},[_c('div',{staticClass:\"info\"},[_c('p',[_c('span',{staticClass:\"user\"},[_vm._v(_vm._s(reviewlist.reviewName))])]),_vm._v(\" \"),_c('p',{staticClass:\"review-content\"},[_vm._v(_vm._s(reviewlist.reviewContent))]),_vm._v(\" \"),_c('p',{staticClass:\"date\"},[_c('span',[_vm._v(_vm._s(_vm.paresDate(reviewlist.reviewTime)))]),_c('span',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.parestimes(reviewlist.reviewTime)))])])])])}),_vm._v(\" \"),_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.commentText),expression:\"commentText\"}],attrs:{\"placeholder\":\"评论\"},domProps:{\"value\":(_vm.commentText)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.commentText=$event.target.value}}}),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('input',{attrs:{\"type\":\"submit\",\"value\":\"确定\"},on:{\"click\":function($event){$event.stopPropagation();_vm.comment($event)}}})])],2):_vm._e()])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler?{\"id\":\"data-v-63f92a24\",\"hasScoped\":false,\"transformToRequire\":{\"video\":\"src\",\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"}}!./~/vue-loader/lib/selector.js?type=template&index=0!./src/modules/info/pages/detail.vue\n// module id = CNqz\n// module chunks = 14","<template>\r\n    <div class=\"normal\">\r\n        <div class=\"title\">\r\n            <h2>{{info.title}}</h2>\r\n            <span>{{info.author_unit}}</span> <span>{{info.author}}</span> <span class=\"date\">{{paresDate(info.sendTime)}}</span>\r\n        </div>\r\n        <div class=\"journalism-content\">\r\n            <div v-if=\"info.picUrl\" class=\"info-img\">\r\n                <img alt=\"\" :src=\"info.picUrl\" style=\"display: block;margin: 0 auto;\"/>\r\n            </div>\r\n            <div>\r\n                <div v-html=\"noTableHtml1\"></div>\r\n                <div style=\"overflow-x: scroll;\" v-html=\"tableHtml\"></div>\r\n                <div v-html=\"noTableHtml2\"></div>\r\n            </div>\r\n        </div>\r\n        <div class=\"info-attach\" v-if=\"showAttach\">\r\n            <div>附件：</div>\r\n            <p class=\"attach-list\" v-for=\"info in info.attachUrlList\">\r\n                <a :href=\"info.url\">{{info.attachName}}</a>\r\n            </p>\r\n        </div>\r\n        <div class=\"info-comment\" v-if=\"showReview\">\r\n            <h2>评论（<span>{{reviewList.length}}</span>）</h2>\r\n            <div class=\"review-list clearfix\" v-for=\"reviewlist in reviewList\">\r\n                <!--<div class=\"img\"><img src=\"../sources/bg.png\" alt=\"\"></div>-->\r\n                <div class=\"info\">\r\n                    <p><span class=\"user\">{{reviewlist.reviewName}}</span></p>\r\n                    <p class=\"review-content\">{{reviewlist.reviewContent}}</p>\r\n                    <p class=\"date\"><span>{{paresDate(reviewlist.reviewTime)}}</span><span class=\"time\">{{parestimes(reviewlist.reviewTime)}}</span></p>\r\n                </div>\r\n            </div>\r\n            <textarea placeholder=\"评论\" v-model=\"commentText\">\r\n\r\n            </textarea>\r\n            <div class=\"btn\"><input type=\"submit\" value=\"确定\" @click.stop=\"comment\"></div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n\r\n    import {Toast, Indicator} from 'mint-ui';\r\n    import Util from '@/libs/util.js'; \r\n    export default {\r\n        beforeRouteEnter(to, from, next) {\r\n            next(vm => {\r\n                vm.getDetail();\r\n            })\r\n        },\r\n        data() {\r\n            return {\r\n                info: {},\r\n                showAttach: false, //是否显示附件\r\n                showReview: true, //是否显示评论\r\n                noTableHtml1: '', //非table内容\r\n                noTableHtml2: '', //非table内容\r\n                tableHtml: '', //table内容\r\n                commentText:'',//文本域内容\r\n                commentParams:{},\r\n                reviewList:[]\r\n            }\r\n        },\r\n        methods: {\r\n            getDetail: function () {\r\n                let _this = this;\r\n                _this.showLoading();\r\n                if (this.$route.query && this.$route.query.id) {\r\n                    _this.Api.INFO.getInfoById({\r\n                        id: _this.$route.query.id,\r\n                        nodeId: _this.$route.query.nodeId,\r\n                        definitionId: _this.$route.query.definitionId,\r\n                        instanceId: _this.$route.query.instanceId,\r\n                        businessKey: _this.$route.query.businessKey,\r\n                    }).then(function (res) {\r\n                        if (res.data.code === '000000') {\r\n                            _this.$set(_this, 'info', res.data.body);\r\n                            _this.reviewList =  Object.keys(res.data.body.reviewList).map((item)=>{\r\n                            return res.data.body.reviewList[item];\r\n\r\n                            });\r\n                            if(_this.info.attachUrlList.length){\r\n                                _this.showAttach = true;\r\n                            }\r\n                            \r\n                        } else {\r\n                            Toast({message: res.data.errormsg});\r\n                        }\r\n                        _this.$nextTick(() => {\r\n                            _this.settableWidth();\r\n                            _this.hideLoading();\r\n                        })\r\n                    }).catch(function (error) {\r\n                        _this.hideLoading();\r\n                    });\r\n                }\r\n            },\r\n            showLoading() {\r\n                Indicator.open();\r\n            },\r\n            hideLoading() {\r\n                Indicator.close();\r\n            },\r\n            paresDate(stamp){\r\n                return Util.format(new Date(stamp) ,'yyyy-MM-dd');\r\n            },\r\n            parestimes(stamp){\r\n                return Util.format(new Date(stamp) ,'hh:mm:ss');\r\n            },\r\n            comment: function (){\r\n                let _this = this;\r\n                _this.commentParams.reviewContent = this.commentText;\r\n                _this.Api.INFO.saveInfoComment({\r\n                    infoId: _this.$route.query.id,\r\n                    // definitionId: _this.$route.query.definitionId ? _this.$route.query.definitionId: '',\r\n                    // nodeId: _this.$route.query.nodeId ? _this.$route.query.nodeId: '',\r\n                    // instanceId: _this.$route.query.instanceId ? _this.$route.query.instanceId: '',\r\n                    reviewContent: _this.commentParams.reviewContent,\r\n                }).then((res)=>{\r\n                    if(res.data.code === '000000'){\r\n                        Toast({message: '评论成功'});\r\n                        _this.commentText=\"\";\r\n                        _this.getDetail();\r\n                \t}else{\r\n                        Toast({message: res.data.errormsg});\r\n                    }\r\n                })\r\n            },\r\n            //如果信息内容中包含table,table中一行td大于4，就会出横向滚动条，并且table的宽度设置为600px;\r\n            settableWidth: function(){\r\n                let _this = this;\r\n                if(_this.info.infoContent.indexOf('<table>') != -1){\r\n                    let tdLength = _this.info.infoContent.split('<td').length - 1;\r\n                    let trLength = _this.info.infoContent.split('<tr').length - 1;\r\n                    let tableContent = _this.info.infoContent.split('table');\r\n                    tableContent[0] = tableContent[0].substring(0,tableContent[0].length - 1);\r\n                    tableContent[2] = tableContent[2].substr(1);\r\n                    _this.noTableHtml1 = tableContent[0];\r\n                    _this.noTableHtml2 = tableContent[2];\r\n                    if(tdLength/trLength > 4){\r\n                        _this.tableHtml = '<table style=\"width:600px\"' + tableContent[1] + 'table>';\r\n                    }else{\r\n                        _this.tableHtml = '<table' + tableContent[1] + 'table>';\r\n                    }\r\n                }else{\r\n                    _this.noTableHtml1 = _this.info.infoContent;\r\n                }\r\n            }\r\n        }\r\n    }\r\n</script>\r\n\r\n<style>\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// detail.vue?660b7a25","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63f92a24\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./detail.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./detail.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63f92a24\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":\\\"src\\\",\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./detail.vue\"\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/modules/info/pages/detail.vue\n// module id = S9iK\n// module chunks = 14","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/index.js?{\\\"minimize\\\":true,\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63f92a24\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./detail.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"550575bd\", content, true);\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/extract-text-webpack-plugin/loader.js?{\"omit\":1,\"remove\":true}!./~/vue-style-loader!./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-63f92a24\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/modules/info/pages/detail.vue\n// module id = Svr/\n// module chunks = 14","'use strict';\r\n\r\nclass EventBusClass {\r\n    constructor(args) {\r\n        this.listeners = {};\r\n        this.EVENT_TYPE_WORK_CALENDAR = 'event_type_work_calendar';\r\n        this.EVENT_TYPE_FIELD_NAME = 'event_type_field_name';\r\n        this.EVENT_TYPE_FIELD_END_NAME = 'EVENT_TYPE_FIELD_END_NAME';\r\n    }\r\n\r\n    addEventListener(type, callback, scope) {\r\n        var args = [];\r\n        var numOfArgs = arguments.length;\r\n        for (var i = 0; i < numOfArgs; i++) {\r\n            args.push(arguments[i]);\r\n        }\r\n        args = args.length > 3 ? args.splice(3, args.length - 1) : [];\r\n        if (typeof this.listeners[type] != \"undefined\") {\r\n            this.listeners[type].push({ scope: scope, callback: callback, args: args });\r\n        } else {\r\n            this.listeners[type] = [{ scope: scope, callback: callback, args: args }];\r\n        }\r\n    }\r\n    removeEventListener(type, callback, scope) {\r\n        if (typeof this.listeners[type] != \"undefined\") {\r\n            var numOfCallbacks = this.listeners[type].length;\r\n            var newArray = [];\r\n            for (var i = 0; i < numOfCallbacks; i++) {\r\n                var listener = this.listeners[type][i];\r\n                if (listener.scope == scope && listener.callback == callback) {\r\n\r\n                } else {\r\n                    newArray.push(listener);\r\n                }\r\n            }\r\n            this.listeners[type] = newArray;\r\n        }\r\n    }\r\n    hasEventListener(type, callback, scope) {\r\n        if (typeof this.listeners[type] != \"undefined\") {\r\n            var numOfCallbacks = this.listeners[type].length;\r\n            if (callback === undefined && scope === undefined) {\r\n                return numOfCallbacks > 0;\r\n            }\r\n            for (var i = 0; i < numOfCallbacks; i++) {\r\n                var listener = this.listeners[type][i];\r\n                if ((scope ? listener.scope == scope : true) && listener.callback == callback) {\r\n                    return true;\r\n                }\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    dispatch(type, target) {\r\n        var event = {\r\n            type: type,\r\n            target: target\r\n        };\r\n        var args = [];\r\n        var numOfArgs = arguments.length;\r\n        for (var i = 0; i < numOfArgs; i++) {\r\n            args.push(arguments[i]);\r\n        };\r\n        args = args.length > 2 ? args.splice(2, args.length - 1) : [];\r\n        args = [event].concat(args);\r\n\r\n\r\n        if (typeof this.listeners[type] != \"undefined\") {\r\n            var listeners = this.listeners[type].slice();\r\n            var numOfCallbacks = listeners.length;\r\n            for (var i = 0; i < numOfCallbacks; i++) {\r\n                var listener = listeners[i];\r\n                if (listener && listener.callback) {\r\n                    var concatArgs = args.concat(listener.args);\r\n                    listener.callback.apply(listener.scope, concatArgs);\r\n                }\r\n            }\r\n        }\r\n    }\r\n    getEvents() {\r\n        var str = \"\";\r\n        for (var type in this.listeners) {\r\n            var numOfCallbacks = this.listeners[type].length;\r\n            for (var i = 0; i < numOfCallbacks; i++) {\r\n                var listener = this.listeners[type][i];\r\n                str += listener.scope && listener.scope.className ? listener.scope.className : \"anonymous\";\r\n                str += \" listen for '\" + type + \"'\\n\";\r\n            }\r\n        }\r\n        return str;\r\n    }\r\n}\r\n/**\r\n * 函数节流\r\n * 避免调用频率过高 ,对于必须在一些输入（多是一些用户操作）停止到达之后执行的行为有帮助\r\n * \r\n * @param {any} func        要执行的函数\r\n * @param {any} wait        延时\r\n * @param {any} immediate   immediate 为 true， debounce会在 wait 时间间隔的开始调用这个函数 \r\n * @example\r\n *   UTIL.debounce(function(){\r\n *      //TODO\r\n *   }, 100) \r\n */\r\nfunction debounce(func, wait, immediate) {\r\n    var timeout, args, context, timestamp, result;\r\n\r\n    var later = function () {\r\n        var last = Date.now() - timestamp;\r\n\r\n        if (last < wait && last >= 0) {\r\n            timeout = setTimeout(later, wait - last);\r\n        } else {\r\n            timeout = null;\r\n            if (!immediate) {\r\n                result = func.apply(context, args);\r\n                if (!timeout) context = args = null;\r\n            }\r\n        }\r\n    };\r\n\r\n    return function () {\r\n        context = this;\r\n        args = arguments;\r\n        timestamp = Date.now();\r\n        var callNow = immediate && !timeout;\r\n        if (!timeout) timeout = setTimeout(later, wait);\r\n        if (callNow) {\r\n            result = func.apply(context, args);\r\n            context = args = null;\r\n        }\r\n\r\n        return result;\r\n    };\r\n}\r\n/**\r\n * 日期对象转换\r\n * \r\n * @param {any} stamp   日期对象     new Date()\r\n * @param {any} format  要转化的格式  yyyy-MM-dd hh:mm:ss\r\n * @returns \r\n */\r\nfunction format(stamp ,format) {\r\n    var date = {\r\n           \"M+\": stamp.getMonth() + 1,\r\n           \"d+\": stamp.getDate(),\r\n           \"h+\": stamp.getHours(),\r\n           \"m+\": stamp.getMinutes(),\r\n           \"s+\": stamp.getSeconds(),\r\n           \"q+\": Math.floor((stamp.getMonth() + 3) / 3),\r\n           \"S+\": stamp.getMilliseconds()\r\n    };\r\n    if (/(y+)/i.test(format)) {\r\n           format = format.replace(RegExp.$1, (stamp.getFullYear() + '').substr(4 - RegExp.$1.length));\r\n    }\r\n    for (var k in date) {\r\n           if (new RegExp(\"(\" + k + \")\").test(format)) {\r\n                  format = format.replace(RegExp.$1, RegExp.$1.length == 1\r\n                         ? date[k] : (\"00\" + date[k]).substr((\"\" + date[k]).length));\r\n           }\r\n    }\r\n    return format;\r\n}\r\n\r\nexport default {\r\n    //高频率触发函数解决方案\r\n    debounce: debounce,\r\n    //事件代理\r\n    EventBus: new EventBusClass(),\r\n    //日期转换\r\n    format: format\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/libs/util.js","exports = module.exports = require(\"../../../../node_modules/css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"detail.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":true,\"sourceMap\":true}!./~/vue-loader/lib/style-compiler?{\"vue\":true,\"id\":\"data-v-63f92a24\",\"scoped\":false,\"hasInlineConfig\":false}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/modules/info/pages/detail.vue\n// module id = nA20\n// module chunks = 14"],"sourceRoot":""}